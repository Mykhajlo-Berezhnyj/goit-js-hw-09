const o=document.querySelector(".feedback-form"),r=o.elements.email,d=o.elements.message,c="feedback-form-state",n=400,i=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,a=document.getElementById("email-error"),v=document.getElementById("countNumber"),m=document.querySelector(".message-counter");let t={email:"",message:""};const g=JSON.parse(localStorage.getItem(c))||{};t={email:g.email||"",message:g.message||""};console.log("üöÄ ~ formData:",t);r.value=t.email;d.value=t.message;r.value&&u(r);o.addEventListener("input",L);function L(e){t[e.target.name]=e.target.value.trim(),console.log("üöÄ ~ feedbackForm.addEventListener ~  formData:",t),u(r),S(d),localStorage.setItem(c,JSON.stringify(t)),console.log("üöÄ ~ feedbackForm.addEventListener ~ localStorage:",localStorage)}o.addEventListener("submit",e=>{if(e.preventDefault(),!t.email||!t.message)return alert("Fill please all fields");console.log("formData:",t),localStorage.removeItem(c),t.email="",t.message="",o.reset()});function u(e){const l=/[–∞-—è–ê-–Ø—ë–Å—ñ–Ü—ó–á—î–Ñ“ë“ê\s]/g;let s=e.value;if(e.value=s.replace(l,""),l.test(s)){a.classList.add("error-message"),a.textContent="–î–ª—è –≤–≤–æ–¥—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ª–∞—Ç–∏–Ω–∏—Ü—é!";return}if(!s){e.classList.remove("error"),a.classList.remove("error-message"),a.textContent="";return}i.test(s)?(e.classList.remove("error"),a.classList.remove("error-message"),a.textContent=""):(console.log("üöÄ ~ validateEmail ~ !regex.test(email):",!i.test(s)),e.classList.add("error"),a.classList.add("error-message"),a.textContent="–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∏–π –∞–±–æ –Ω–µ–ø–æ–≤–Ω–∏–π email! –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å –≤–≤–æ–¥—É!")}function S(e){const s=e.value.length;v.textContent=`${s}/${n}`;const f=n-s;s>n*.9&&(m.classList.remove("hidden"),m.textContent=`–£ –í–∞—Å –∑–∞–ª–∏—à–∏–ª–æ—Å—è –¥–æ—Å—Ç—É–ø–Ω–∏—Ö ${f} —Å–∏–º–≤–æ–ª—ñ–≤`),m.classList.add("hidden")}
//# sourceMappingURL=2-form-C-wCMez6.js.map
