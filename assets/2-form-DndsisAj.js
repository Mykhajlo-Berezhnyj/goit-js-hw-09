const n=document.querySelector(".feedback-form"),m=n.elements.email,c=n.elements.message,i="feedback-form-state",o=400,u=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,s=document.getElementById("email-error"),v=document.getElementById("countNumber"),r=document.querySelector(".message-counter"),f=/[–∞-—è–ê-–Ø—ë–Å—ñ–Ü—ó–á—î–Ñ“ë“ê\s,/]/g;let t={email:"",message:""};const L=JSON.parse(localStorage.getItem(i))||{};t={email:L.email||"",message:L.message||""};console.log("üöÄ ~ formData:",t);m.value=t.email;c.value=t.message;m.value&&p(m);c.value&&g(c);n.addEventListener("input",b);function b(e){t[e.target.name]=e.target.value.trim(),console.log("üöÄ ~ feedbackForm.addEventListener ~  formData:",t),p(m),g(c),localStorage.setItem(i,JSON.stringify(t)),console.log("üöÄ ~ feedbackForm.addEventListener ~ localStorage:",localStorage)}n.addEventListener("submit",e=>{if(e.preventDefault(),!t.email||!t.message)return alert("Fill please all fields");console.log("formData:",t),localStorage.removeItem(i),t.email="",t.message="",n.reset(),g(c),v.textContent=`0/${o}`,r.classList.add("hidden")});function p(e){let a=e.value;if(e.value=a.replace(f,""),f.test(a)){s.classList.add("error-message"),s.textContent="–ë—É–¥—å –ª–∞—Å–∫–∞ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–∏—Ä–∏–ª–∏—Ü—é —á–∏ —Ç–∞–±—É–ª—è—Ü—ñ—é –ø—Ä–∏ –≤–≤–æ–¥—ñ!";return}if(!a){e.classList.remove("error"),s.classList.remove("error-message"),s.textContent="";return}u.test(a)?(e.classList.remove("error"),s.classList.remove("error-message"),s.textContent=""):(console.log("üöÄ ~ validateEmail ~ !regex.test(email):",!u.test(a)),e.classList.add("error"),s.classList.add("error-message"),s.textContent="–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∏–π –∞–±–æ –Ω–µ–ø–æ–≤–Ω–∏–π email! –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å –≤–≤–æ–¥—É!")}function g(e){const l=e.value.length;v.textContent=`${l}/${o}`;const d=o-l;l>o*.9?(r.classList.remove("hidden"),l>=o?(r.innerHTML=`–í–∏ –¥–æ—Å—è–≥–ª–∏ –ª—ñ–º—ñ—Ç—É –≤ ${o} —Å–∏–º–≤–æ–ª—ñ–≤. –Ø–∫—â–æ –º–∞—î—Ç–µ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó, –Ω–∞–¥—ñ—à–ª—ñ—Ç—å —ó—Ö –Ω–∞  
   <a href="mailto:info@goit.ua">info@goit.ua</a>.`,r.style.bottom="2px"):(r.textContent=`–£ –í–∞—Å –∑–∞–ª–∏—à–∏–ª–æ—Å—è –¥–æ—Å—Ç—É–ø–Ω–∏—Ö ${d} —Å–∏–º–≤–æ–ª—ñ–≤`,r.style.bottom="20px")):r.classList.add("hidden")}n.addEventListener("keydown",D);function D(e){console.log("üöÄ ~ stopInputMsg ~ event.target.tagName:",e.target.tagName),e.target.tagName.toLowerCase()==="textarea"&&e.target.value.length>=o&&e.key!=="Delete"&&e.code!=="Backspace"&&e.code!=="ArrowRight"&&e.code!=="ArrowLeft"&&e.code!=="ArrowUp"&&e.code!=="ArrowDown"&&e.preventDefault()}c.addEventListener("paste",h);function h(e){e.preventDefault();const a=e.target.value,l=o-a.length,x=e.clipboardData.getData("text").substring(0,l);e.target.value=a+x,g(e.target)}
//# sourceMappingURL=2-form-DndsisAj.js.map
