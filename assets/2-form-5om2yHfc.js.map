{"version":3,"file":"2-form-5om2yHfc.js","sources":["../../src/js/2-form.js"],"sourcesContent":["import { Input } from \"postcss\";\n\nconst feedbackForm = document.querySelector('.feedback-form');\nconst emailInput = feedbackForm.elements.email;\nconst messageInput = feedbackForm.elements.message;\nconst localStorageKey = \"feedback-form-state\";\nconst maxCount = 500;\n \n\nlet formData = {\n    email: \"\",\n    message: \"\"\n};\n\n// Парсимо локальне сховище з потрібним нам ключем і витягуєм з нього дані в FormData\nconst savedData = JSON.parse(localStorage.getItem(localStorageKey)) || \"{}\";\nformData = {\n    \n    email: savedData.email,\n    message: savedData.message,\n};\nconsole.log(\"🚀 ~ formData:\", formData);\n\n// заповнюємо дані полів вводу, якщо є збережено то з локального сховища, ні то порожні\nemailInput.value = formData.email || \"\";\nmessageInput.value = formData.message || \"\";\n\n//Додаємо слухача на input і використовуючи делегування вішаєм його на форму\nfeedbackForm.addEventListener('input', (event) => {\n    // записуємо значення інпут в formData\n     console.log(\"🚀 ~ feedbackForm.addEventListener ~  event.target.name:\", event.target.name)\n    formData[event.target.name] = event.target.value;\n    console.log(\"🚀 ~ feedbackForm.addEventListener ~  formData:\", formData)\n    // записуємо значення formData локальне сховище\n    localStorage.setItem(localStorageKey, JSON.stringify(formData));\n    console.log(\"🚀 ~ feedbackForm.addEventListener ~ localStorage:\", localStorage)\n});\n    \n// Додаємо слухача на кнопку submit, перевірку на пусті поля, якщо все ок: виводимо дані в консоль і все очищуємо\nfeedbackForm.addEventListener('submit', (event) => {\n    event.preventDefault();\n    if (!formData.email || !formData.message) {\n       return alert(\"Fill please all fields\");    \n    }\n    console.log(\"formData:\", formData);\n    localStorage.removeItem(localStorageKey);\n    formData.email = '';\n    formData.message = '';\n    feedbackForm.reset();\n})\n   \n"],"names":["feedbackForm","emailInput","messageInput","localStorageKey","formData","savedData","event"],"mappings":"6BAEA,MAAMA,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAaD,EAAa,SAAS,MACnCE,EAAeF,EAAa,SAAS,QACrCG,EAAkB,sBAIxB,IAAIC,EAAW,CACX,MAAO,GACP,QAAS,EACb,EAGA,MAAMC,EAAY,KAAK,MAAM,aAAa,QAAQF,CAAe,CAAC,GAAK,KACvEC,EAAW,CAEP,MAAOC,EAAU,MACjB,QAASA,EAAU,OACvB,EACA,QAAQ,IAAI,iBAAkBD,CAAQ,EAGtCH,EAAW,MAAQG,EAAS,OAAS,GACrCF,EAAa,MAAQE,EAAS,SAAW,GAGzCJ,EAAa,iBAAiB,QAAUM,GAAU,CAE7C,QAAQ,IAAI,2DAA4DA,EAAM,OAAO,IAAI,EAC1FF,EAASE,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAC3C,QAAQ,IAAI,kDAAmDF,CAAQ,EAEvE,aAAa,QAAQD,EAAiB,KAAK,UAAUC,CAAQ,CAAC,EAC9D,QAAQ,IAAI,qDAAsD,YAAY,CAClF,CAAC,EAGDJ,EAAa,iBAAiB,SAAWM,GAAU,CAE/C,GADAA,EAAM,eAAc,EAChB,CAACF,EAAS,OAAS,CAACA,EAAS,QAC9B,OAAO,MAAM,wBAAwB,EAExC,QAAQ,IAAI,YAAaA,CAAQ,EACjC,aAAa,WAAWD,CAAe,EACvCC,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBJ,EAAa,MAAK,CACtB,CAAC"}