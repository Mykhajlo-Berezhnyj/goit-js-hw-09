{"version":3,"file":"2-form-C_x_Cc9d.js","sources":["../../src/js/2-form.js"],"sourcesContent":["const feedbackForm = document.querySelector('.feedback-form');\nconst emailInput = feedbackForm.elements.email;\nconst messageInput = feedbackForm.elements.message;\nconst localStorageKey = \"feedback-form-state\";\nconst maxCount = 400;\nconst regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\nconst errorMessage = document.getElementById('email-error');\nconst countNumber = document.getElementById('countNumber');\n \n\nlet formData = {\n    email: \"\",\n    message: \"\"\n};\n\n// –ü–∞—Ä—Å–∏–º–æ –ª–æ–∫–∞–ª—å–Ω–µ —Å—Ö–æ–≤–∏—â–µ –∑ –ø–æ—Ç—Ä—ñ–±–Ω–∏–º –Ω–∞–º –∫–ª—é—á–µ–º —ñ –≤–∏—Ç—è–≥—É—î–º –∑ –Ω—å–æ–≥–æ –¥–∞–Ω—ñ –≤ FormData\nconst savedData = JSON.parse(localStorage.getItem(localStorageKey)) || {};\nformData = {\n    \n    email: savedData.email || \"\",\n    message: savedData.message || \"\",\n};\nconsole.log(\"üöÄ ~ formData:\", formData);\n\n// –∑–∞–ø–æ–≤–Ω—é—î–º–æ –¥–∞–Ω—ñ –ø–æ–ª—ñ–≤ –≤–≤–æ–¥—É\nemailInput.value = formData.email;\nmessageInput.value = formData.message;\nif (emailInput.value) {\n    validateEmail(formData.email);\n} \n\n//–î–æ–¥–∞—î–º–æ —Å–ª—É—Ö–∞—á–∞ –Ω–∞ input —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –¥–µ–ª–µ–≥—É–≤–∞–Ω–Ω—è –≤—ñ—à–∞—î–º –π–æ–≥–æ –Ω–∞ —Ñ–æ—Ä–º—É\nfeedbackForm.addEventListener('input', saveToLocalStr)\n\nfunction saveToLocalStr(event) {\n    // –∑–∞–ø–∏—Å—É—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è —ñ–Ω–ø—É—Ç –≤ formData, –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å–æ–º –ø–æ–∑–±—É–≤–∞—î–º–æ—Å—è –ª–∏—à–Ω—ñ—Ö –∑–Ω–∞–∫—ñ–≤ —Ç–∞–±—É–ª—è—Ü—ñ—ó(–ø—Ä–æ–±—ñ–ª —ñ –µ–Ω—Ç–µ—Ä)\n    formData[event.target.name] = event.target.value.trim();\n    console.log(\"üöÄ ~ feedbackForm.addEventListener ~  formData:\", formData);\n    \n    validateEmail(formData.email);\n     counterNumber(formData.message);\n    // –∑–∞–ø–∏—Å—É—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è formData –ª–æ–∫–∞–ª—å–Ω–µ —Å—Ö–æ–≤–∏—â–µ\n   \n         localStorage.setItem(localStorageKey, JSON.stringify(formData));\n    console.log(\"üöÄ ~ feedbackForm.addEventListener ~ localStorage:\", localStorage)\n\n};\n    \n// –î–æ–¥–∞—î–º–æ —Å–ª—É—Ö–∞—á–∞ –Ω–∞ –∫–Ω–æ–ø–∫—É submit, –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –Ω–∞ –ø—É—Å—Ç—ñ –ø–æ–ª—è, —è–∫—â–æ –≤—Å–µ –æ–∫: –≤–∏–≤–æ–¥–∏–º–æ –¥–∞–Ω—ñ –≤ –∫–æ–Ω—Å–æ–ª—å —ñ –≤—Å–µ –æ—á–∏—â—É—î–º–æ\nfeedbackForm.addEventListener('submit', (event) => {\n    event.preventDefault();\n    if (!formData.email || !formData.message) {\n       return alert(\"Fill please all fields\");    \n    }\n    console.log(\"formData:\", formData);\n    localStorage.removeItem(localStorageKey);\n    formData.email = '';\n    formData.message = '';\n    feedbackForm.reset();\n    \n})\n   \nfunction validateEmail(email) {\n    const isError = document.querySelector(\".error-message\")\n    if (!email) {\n         emailInput.classList.remove('error');\n    errorMessage.classList.remove('error-message');\n        errorMessage.textContent = ('');\n        return\n    }\n   if (!regex.test(email)) {\n       console.log(\"üöÄ ~ validateEmail ~ !regex.test(email):\", !regex.test(email))\n       emailInput.classList.add('error');\n       errorMessage.classList.add('error-message');\n       errorMessage.textContent = \"–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∏–π –∞–±–æ –Ω–µ–ø–æ–≤–Ω–∏–π email! –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å –≤–≤–æ–¥—É!\";  \n   } else {\n       emailInput.classList.remove('error');\n       errorMessage.classList.remove('error-message');\n       errorMessage.textContent = ('');\n   }\n\n}\n\nfunction counterNumber(message) {\n    const currentLength = messageInput.value.length;\n   countNumber.textContent = `${currentLength}/${maxCount}`\n \n}\n"],"names":["feedbackForm","emailInput","messageInput","localStorageKey","maxCount","regex","errorMessage","countNumber","formData","savedData","validateEmail","saveToLocalStr","event","counterNumber","email","message","currentLength"],"mappings":"AAAA,MAAMA,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAaD,EAAa,SAAS,MACnCE,EAAeF,EAAa,SAAS,QACrCG,EAAkB,sBAClBC,EAAW,IACXC,EAAQ,iDACRC,EAAe,SAAS,eAAe,aAAa,EACpDC,EAAc,SAAS,eAAe,aAAa,EAGzD,IAAIC,EAAW,CACX,MAAO,GACP,QAAS,EACb,EAGA,MAAMC,EAAY,KAAK,MAAM,aAAa,QAAQN,CAAe,CAAC,GAAK,GACvEK,EAAW,CAEP,MAAOC,EAAU,OAAS,GAC1B,QAASA,EAAU,SAAW,EAClC,EACA,QAAQ,IAAI,iBAAkBD,CAAQ,EAGtCP,EAAW,MAAQO,EAAS,MAC5BN,EAAa,MAAQM,EAAS,QAC1BP,EAAW,OACXS,EAAcF,EAAS,KAAK,EAIhCR,EAAa,iBAAiB,QAASW,CAAc,EAErD,SAASA,EAAeC,EAAO,CAE3BJ,EAASI,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAAM,OACjD,QAAQ,IAAI,kDAAmDJ,CAAQ,EAEvEE,EAAcF,EAAS,KAAK,EAC3BK,EAAcL,EAAS,OAAO,EAG1B,aAAa,QAAQL,EAAiB,KAAK,UAAUK,CAAQ,CAAC,EACnE,QAAQ,IAAI,qDAAsD,YAAY,CAElF,CAGAR,EAAa,iBAAiB,SAAWY,GAAU,CAE/C,GADAA,EAAM,eAAc,EAChB,CAACJ,EAAS,OAAS,CAACA,EAAS,QAC9B,OAAO,MAAM,wBAAwB,EAExC,QAAQ,IAAI,YAAaA,CAAQ,EACjC,aAAa,WAAWL,CAAe,EACvCK,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBR,EAAa,MAAK,CAEtB,CAAC,EAED,SAASU,EAAcI,EAAO,CAE1B,GADgB,SAAS,cAAc,gBAAgB,EACnD,CAACA,EAAO,CACPb,EAAW,UAAU,OAAO,OAAO,EACxCK,EAAa,UAAU,OAAO,eAAe,EACzCA,EAAa,YAAe,GAC5B,MACH,CACGD,EAAM,KAAKS,CAAK,GAMjBb,EAAW,UAAU,OAAO,OAAO,EACnCK,EAAa,UAAU,OAAO,eAAe,EAC7CA,EAAa,YAAe,KAP5B,QAAQ,IAAI,2CAA4C,CAACD,EAAM,KAAKS,CAAK,CAAC,EAC1Eb,EAAW,UAAU,IAAI,OAAO,EAChCK,EAAa,UAAU,IAAI,eAAe,EAC1CA,EAAa,YAAc,iEAOlC,CAEA,SAASO,EAAcE,EAAS,CAC5B,MAAMC,EAAgBd,EAAa,MAAM,OAC1CK,EAAY,YAAc,GAAGS,CAAa,IAAIZ,CAAQ,EAEzD"}